<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finale Nanawax XV</title>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --marron:#7a5c48;
  --beige:#d3b9a0;
  --glass:rgba(255,255,255,0.32);
  --border:rgba(255,255,255,0.45);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}

body{
  min-height:100vh;
  background:
    linear-gradient(
      rgba(122,92,72,0.55),
      rgba(211,185,160,0.45)
    ),
    url("Gemini_Generated_Image_rtbq4wrtbq4wrtbq.png") center/cover no-repeat fixed;
  color:#3f2b1f;
  padding:50px 20px;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at top,
      rgba(255,255,255,0.25),
      transparent 60%);
  pointer-events:none;
}

.background-wave{
  position:fixed;
  inset:-20%;
  background:
    linear-gradient(
      120deg,
      rgba(122,92,72,0.35),
      rgba(211,185,160,0.35)
    );
  z-index:-2;
  filter:blur(60px);
}


/* ===== CONTAINER ===== */
.container{
  max-width:1000px;
  margin:auto;
}

/* ===== HERO ===== */
.hero{
  text-align:center;
  margin-bottom:60px;
}

.hero img{
  width:160px;
  margin-bottom:25px;
}

.hero h1{
  font-size:3rem;
  font-weight:300;
  letter-spacing:1px;
}

.hero p{
  margin-top:15px;
  font-size:1.15rem;
  color:#4e3728;
}

/* ===== GLASS CARD ===== */
.glass{
  background:var(--glass);
  backdrop-filter:blur(5px); /* RÃ©duit de 26px Ã  5px seulement */
  -webkit-backdrop-filter:blur(5px);
  border-radius:34px;
  border:1px solid var(--border);
  box-shadow:
    inset 0 0 20px rgba(255,255,255,0.2), /* RÃ©duit l'effet interne */
    0 20px 50px rgba(0,0,0,0.15); /* Ombre plus lÃ©gÃ¨re */
  padding:55px;
}

/* ===== FORM ===== */
h2{
  text-align:center;
  font-weight:400;
  margin-bottom:40px;
}

.group{
  margin-bottom:28px;
}

label{
  display:block;
  margin-bottom:8px;
  font-weight:500;
}

input, select{
  width:100%;
  padding:16px 18px;
  border-radius:18px;
  border:none;
  background:rgba(255,255,255,0.85);
  font-size:1rem;
}

/* ===== OPTIONS ===== */
.options{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:16px;
  margin-top:10px;
}

.option{
  padding:18px;
  border-radius:20px;
  background:rgba(255,255,255,0.55);
  text-align:center;
  cursor:pointer;
  transition:.35s;
  font-weight:500;
}

.option.active{
  background:rgba(122,92,72,0.35);
  border:2px solid var(--marron);
}

/* ===== BUTTON ===== */
button{
  width:100%;
  padding:18px;
  border:none;
  border-radius:22px;
  background:
    linear-gradient(135deg,#7a5c48,#9b7a60);
  color:white;
  font-size:1.15rem;
  cursor:pointer;
  margin-top:20px;
}

/* ===== HIDDEN ===== */
.hidden{display:none}

/* ===== CONFIRM ===== */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.65);
  display:none;
  align-items:center;
  justify-content:center;
}

.overlay.show{display:flex}

.confirm{
  background:white;
  padding:45px;
  border-radius:30px;
  max-width:460px;
  width:90%;
  text-align:center;
}

.particles{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-1;
}

.particle{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  background:rgba(255,215,160,0.55);
  box-shadow:0 0 12px rgba(255,215,160,0.6);
  opacity:0;
}

/* ===== GOUTTELETTES D'EAU (NON RUISSSELANTES) ===== */
.water-droplets{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}

.droplet{
  position:absolute;
  border-radius:50%;
  background:rgba(255,255,255,0.18);
  box-shadow:
    inset -2px -2px 6px rgba(255,255,255,0.4),
    inset 2px 2px 6px rgba(255,255,255,0.08);
  backdrop-filter: blur(1px);
}

/* ===== RAYONS DE SOLEIL ===== */
.sun-rays{
  position:fixed;
  top:8%;
  right:10%;
  width:180px;
  height:180px;
  pointer-events:none;
  opacity:0.55;
}

.ray{
  position:absolute;
  width:4px;
  height:80px;
  background:linear-gradient(
    to bottom,
    rgba(255,255,210,0.85),
    rgba(255,200,120,0.25)
  );
  border-radius:3px;
  top:50%;
  left:50%;
  transform-origin:center 0;
}

/* Style pour le select d'indicatif */
#indicatif {
  border-radius: 18px;
  border: none;
  background: rgba(255,255,255,0.85);
  font-size: 1rem;
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%237a5c48'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 15px center;
  background-size: 16px;
  padding-right: 40px;
}

#indicatif option {
  padding: 10px;
}

/* ===== FORM SECTIONS ===== */
.form-section {
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(122,92,72,0.2);
}

.form-section h3 {
  font-size: 1.3rem;
  font-weight: 400;
  margin-bottom: 20px;
  color: var(--marron);
}

/* Alcool section */
.alcool-section {
  transition: all 0.3s ease;
}

</style>
</head>

<body>

<div class="background-wave"></div>

<div class="water-droplets" id="droplets"></div>

<div class="sun-rays" id="sunRays"></div>

<div class="particles" id="particles"></div>

<div class="container">

  <!-- HERO -->
  <section class="hero">
    <img src="nanawax maron.png" alt="Nanawax">
    <h1>Finale Nanawax XV</h1>
    <p>
      Assinie â€¢ CÃ´te d'Ivoire<br>
      28 â†’ 30 mars 2026
    </p>
  </section>

  <!-- FORM -->
  <section class="glass">
    <h2>RÃ©servation</h2>

    <form id="form">

      <!-- NOM ET PRÃ‰NOM -->
      <div class="form-section">
        <h3>Informations personnelles</h3>
        <div class="group">
          <label>Nom *</label>
          <input id="nom" required>
        </div>
        <div class="group">
          <label>PrÃ©nom *</label>
          <input id="prenom" required>
        </div>
        
        <!-- TÃ©lÃ©phone avec indicatif -->
        <div class="group">
          <label>TÃ©lÃ©phone *</label>
          <div style="display: flex; gap: 12px;">
            <select id="indicatif" style="flex: 0 0 140px; padding: 16px 12px;">
              <!-- Options des indicatifs -->
              <option value="+225">ðŸ‡¨ðŸ‡® +225 (CÃ´te d'Ivoire)</option>
              <option value="+33">ðŸ‡«ðŸ‡· +33 (France)</option>
              <option value="+32">ðŸ‡§ðŸ‡ª +32 (Belgique)</option>
              <option value="+41">ðŸ‡¨ðŸ‡­ +41 (Suisse)</option>
              <option value="+1">ðŸ‡ºðŸ‡¸ +1 (Ã‰tats-Unis)</option>
              <option value="+44">ðŸ‡¬ðŸ‡§ +44 (Royaume-Uni)</option>
              <option value="+49">ðŸ‡©ðŸ‡ª +49 (Allemagne)</option>
              <option value="+34">ðŸ‡ªðŸ‡¸ +34 (Espagne)</option>
              <option value="+39">ðŸ‡®ðŸ‡¹ +39 (Italie)</option>
              <option value="+31">ðŸ‡³ðŸ‡± +31 (Pays-Bas)</option>
              <option value="+351">ðŸ‡µðŸ‡¹ +351 (Portugal)</option>
              <option value="+213">ðŸ‡©ðŸ‡¿ +213 (AlgÃ©rie)</option>
              <option value="+216">ðŸ‡¹ðŸ‡³ +216 (Tunisie)</option>
              <option value="+212">ðŸ‡²ðŸ‡¦ +212 (Maroc)</option>
              <option value="+221">ðŸ‡¸ðŸ‡³ +221 (SÃ©nÃ©gal)</option>
              <option value="+223">ðŸ‡²ðŸ‡± +223 (Mali)</option>
              <option value="+229">ðŸ‡§ðŸ‡¯ +229 (BÃ©nin)</option>
              <option value="+226">ðŸ‡§ðŸ‡« +226 (Burkina Faso)</option>
              <option value="+228">ðŸ‡¹ðŸ‡¬ +228 (Togo)</option>
              <option value="+237">ðŸ‡¨ðŸ‡² +237 (Cameroun)</option>
              <option value="+242">ðŸ‡¨ðŸ‡¬ +242 (Congo)</option>
              <option value="+243">ðŸ‡¨ðŸ‡© +243 (RDC)</option>
              <option value="+233">ðŸ‡¬ðŸ‡­ +233 (Ghana)</option>
              <option value="+234">ðŸ‡³ðŸ‡¬ +234 (Nigeria)</option>
              <option value="+250">ðŸ‡·ðŸ‡¼ +250 (Rwanda)</option>
              <option value="+254">ðŸ‡°ðŸ‡ª +254 (Kenya)</option>
              <option value="+255">ðŸ‡¹ðŸ‡¿ +255 (Tanzanie)</option>
              <option value="+27">ðŸ‡¿ðŸ‡¦ +27 (Afrique du Sud)</option>
              <option value="+90">ðŸ‡¹ðŸ‡· +90 (Turquie)</option>
              <option value="+971">ðŸ‡¦ðŸ‡ª +971 (Ã‰mirats)</option>
              <option value="+966">ðŸ‡¸ðŸ‡¦ +966 (Arabie Saoudite)</option>
              <option value="+20">ðŸ‡ªðŸ‡¬ +20 (Ã‰gypte)</option>
              <option value="+852">ðŸ‡­ðŸ‡° +852 (Hong Kong)</option>
              <option value="+86">ðŸ‡¨ðŸ‡³ +86 (Chine)</option>
              <option value="+81">ðŸ‡¯ðŸ‡µ +81 (Japon)</option>
              <option value="+82">ðŸ‡°ðŸ‡· +82 (CorÃ©e du Sud)</option>
              <option value="+65">ðŸ‡¸ðŸ‡¬ +65 (Singapour)</option>
              <option value="+60">ðŸ‡²ðŸ‡¾ +60 (Malaisie)</option>
              <option value="+61">ðŸ‡¦ðŸ‡º +61 (Australie)</option>
              <option value="+64">ðŸ‡³ðŸ‡¿ +64 (Nouvelle-ZÃ©lande)</option>
              <option value="+55">ðŸ‡§ðŸ‡· +55 (BrÃ©sil)</option>
              <option value="+52">ðŸ‡²ðŸ‡½ +52 (Mexique)</option>
              <option value="+51">ðŸ‡µðŸ‡ª +51 (PÃ©rou)</option>
              <option value="+57">ðŸ‡¨ðŸ‡´ +57 (Colombie)</option>
              <option value="+58">ðŸ‡»ðŸ‡ª +58 (Venezuela)</option>
              <option value="+54">ðŸ‡¦ðŸ‡· +54 (Argentine)</option>
              <option value="+56">ðŸ‡¨ðŸ‡± +56 (Chili)</option>
              <option value="+7">ðŸ‡·ðŸ‡º +7 (Russie)</option>
              <option value="+380">ðŸ‡ºðŸ‡¦ +380 (Ukraine)</option>
              <option value="+48">ðŸ‡µðŸ‡± +48 (Pologne)</option>
              <option value="+40">ðŸ‡·ðŸ‡´ +40 (Roumanie)</option>
              <option value="+30">ðŸ‡¬ðŸ‡· +30 (GrÃ¨ce)</option>
            </select>
            <input id="telephone" required placeholder="NumÃ©ro de tÃ©lÃ©phone" style="flex: 1;">
          </div>
        </div>
        
        <div class="group">
          <label>Email *</label>
          <input id="email" type="email" required>
        </div>
      </div>

      <!-- TAILLE DES VÃŠTEMENTS -->
      <div class="form-section">
        <h3>Taille des vÃªtements</h3>
        <div class="options" id="taille-vetements">
          <div class="option" data-value="XS">XS</div>
          <div class="option" data-value="S">S</div>
          <div class="option" data-value="M">M</div>
          <div class="option" data-value="L">L</div>
          <div class="option" data-value="XL">XL</div>
          <div class="option" data-value="2XL">2XL</div>
          <div class="option" data-value="3XL">3XL</div>
          <div class="option" data-value="4XL">4XL</div>
        </div>
      </div>

      <!-- POINTURES -->
      <div class="form-section">
        <h3>Pointure</h3>
        <div class="options" id="pointures">
          <div class="option" data-value="36">36</div>
          <div class="option" data-value="37">37</div>
          <div class="option" data-value="38">38</div>
          <div class="option" data-value="39">39</div>
          <div class="option" data-value="40">40</div>
          <div class="option" data-value="41">41</div>
          <div class="option" data-value="42">42</div>
          <div class="option" data-value="43">43</div>
          <div class="option" data-value="44">44</div>
          <div class="option" data-value="45">45</div>
          <div class="option" data-value="46">46</div>
        </div>
      </div>

      <!-- COULEURS PRÃ‰FÃ‰RÃ‰ES -->
      <div class="form-section">
        <h3>Couleurs prÃ©fÃ©rÃ©es</h3>
        <div class="options" id="couleurs">
          <div class="option" data-value="blanc">blanc</div>
          <div class="option" data-value="noir">noir</div>
          <div class="option" data-value="marron">marron</div>
          <div class="option" data-value="beige">beige</div>
          <div class="option" data-value="bleu">bleu</div>
          <div class="option" data-value="vert">vert</div>
          <div class="option" data-value="rouge">rouge</div>
          <div class="option" data-value="rose">rose</div>
          <div class="option" data-value="violet">violet</div>
          <div class="option" data-value="jaune">jaune</div>
          <div class="option" data-value="orange">orange</div>
          <div class="option" data-value="saumon">saumon</div>
          <div class="option" data-value="terracotta">terracotta</div>
        </div>
      </div>

      <!-- CONSOMMATION D'ALCOOL -->
      <div class="form-section">
        <h3>Consommation d'alcool</h3>
        <div class="options" id="alcool-option">
          <div class="option" data-value="oui">Oui</div>
          <div class="option" data-value="non">Non</div>
        </div>
      </div>

      <!-- JUS PRÃ‰FÃ‰RÃ‰S -->
      <div class="form-section" id="jus-section">
        <h3>Jus prÃ©fÃ©rÃ©s</h3>
        <div class="options" id="jus">
          <div class="option" data-value="pomme">pomme</div>
          <div class="option" data-value="mangue">mangue</div>
          <div class="option" data-value="ananas">ananas</div>
          <div class="option" data-value="orange">orange</div>
          <div class="option" data-value="aucun">aucun</div>
        </div>
      </div>

      <!-- CHAMPAGNE (UNIQUEMENT SI ALCOOL = OUI) -->
      <div class="form-section alcool-section hidden" id="champagne-section">
        <h3>Champagne prÃ©fÃ©rÃ©</h3>
        <div class="options" id="champagne">
          <div class="option" data-value="rosÃ©">rosÃ©</div>
          <div class="option" data-value="demi sec">demi sec</div>
          <div class="option" data-value="brut">brut</div>
        </div>
      </div>

      <!-- SPIRITUEUX (UNIQUEMENT SI ALCOOL = OUI) -->
      <div class="form-section alcool-section hidden" id="spiritueux-section">
        <h3>Spiritueux prÃ©fÃ©rÃ©s</h3>
        <div class="options" id="spiritueux">
          <div class="option" data-value="vodka">vodka</div>
          <div class="option" data-value="rhum">rhum</div>
          <div class="option" data-value="gin">gin</div>
          <div class="option" data-value="whisky">whisky</div>
        </div>
      </div>

      <!-- BOISSONS CHAUDES -->
      <div class="form-section">
        <h3>Boissons chaudes</h3>
        <div class="options" id="boissons-chaudes">
          <div class="option" data-value="thÃ©">ThÃ©</div>
          <div class="option" data-value="cafÃ©">CafÃ©</div>
        </div>
      </div>

      <!-- ALLERGIES FRUITS DE MER -->
      <div class="form-section">
        <h3>Allergies aux fruits de mer</h3>
        <div class="options" id="allergies">
          <div class="option" data-value="oui">Oui</div>
          <div class="option" data-value="non">Non</div>
        </div>
      </div>

      <button>Confirmer la rÃ©servation</button>

    </form>
  </section>
</div>

<!-- CONFIRMATION -->
<div class="overlay" id="overlay">
  <div class="confirm">
    <h2>ðŸŽ‰ RÃ©servation confirmÃ©e</h2>
    <div id="resume"></div><br>
    <button onclick="closeConfirm()">Fermer</button>
  </div>
</div>

<script>
/* ===== EMAILJS ===== */
emailjs.init("13uhnx4ywp64w0KDy");

/* ===== GOUTTELETTES D'EAU ===== */
const dropletsContainer = document.getElementById("droplets");
const DROPLETS_COUNT = 22;

for(let i=0;i<DROPLETS_COUNT;i++){
  const d = document.createElement("div");
  d.className = "droplet";
  dropletsContainer.appendChild(d);

  const size = Math.random() * 24 + 8;

  gsap.set(d,{
    width: size,
    height: size,
    x: Math.random() * window.innerWidth,
    y: Math.random() * window.innerHeight,
    opacity: Math.random() * 0.25 + 0.15
  });

  gsap.to(d,{
    x: "+=" + (Math.random()*20-10),
    y: "+=" + (Math.random()*20-10),
    scale: Math.random()*0.15 + 0.95,
    duration: Math.random()*6 + 6,
    repeat:-1,
    yoyo:true,
    ease:"sine.inOut"
  });
}

/* ===== RAYONS DE SOLEIL ===== */
const sun = document.getElementById("sunRays");
const RAYS_COUNT = 12;

for(let i=0;i<RAYS_COUNT;i++){
  const r = document.createElement("div");
  r.className = "ray";
  sun.appendChild(r);

  gsap.set(r,{ rotation:(360/RAYS_COUNT)*i });
}

gsap.to(".ray",{
  rotation:"+=360",
  duration:90,
  repeat:-1,
  ease:"none"
});

gsap.to(".ray",{
  opacity:()=>Math.random()*0.4+0.3,
  scaleY:()=>Math.random()*0.3+0.9,
  duration:()=>Math.random()*4+3,
  repeat:-1,
  yoyo:true,
  stagger:0.15,
  ease:"sine.inOut"
});

/* ===== LOGIQUE ===== */
const form = document.getElementById("form");
const nom = document.getElementById("nom");
const prenom = document.getElementById("prenom");
const email = document.getElementById("email");
const indicatif = document.getElementById("indicatif");
const telephone = document.getElementById("telephone");
const overlay = document.getElementById("overlay");
const resume = document.getElementById("resume");

// Sections alcool
const champagneSection = document.getElementById("champagne-section");
const spiritueuxSection = document.getElementById("spiritueux-section");

// Variables pour stocker les sÃ©lections
let selectedTaille = [];
let selectedPointure = [];
let selectedCouleurs = [];
let selectedAlcool = "";
let selectedJus = [];
let selectedChampagne = [];
let selectedSpiritueux = [];
let selectedBoissonsChaudes = [];
let selectedAllergies = "";

/* ===== PARTICULES ===== */
const particlesContainer = document.getElementById("particles");
const PARTICLES_COUNT = 18;

for(let i=0;i<PARTICLES_COUNT;i++){
  const p = document.createElement("div");
  p.className = "particle";
  particlesContainer.appendChild(p);

  gsap.set(p,{
    x: Math.random() * window.innerWidth,
    y: Math.random() * window.innerHeight,
    scale: Math.random() * 1.2 + 0.4
  });

  gsap.to(p,{
    y: "-=120",
    x: "+=40",
    opacity: 1,
    duration: Math.random() * 10 + 12,
    repeat: -1,
    yoyo: true,
    ease: "sine.inOut",
    delay: Math.random() * 5
  });
}

/* ===== GESTION DES OPTIONS ===== */
function setupOptions(containerId, selectedArray, isSingle = false) {
  const container = document.getElementById(containerId);
  const options = container.querySelectorAll(".option");
  
  options.forEach(option => {
    option.onclick = () => {
      if (isSingle) {
        // Pour une sÃ©lection unique
        options.forEach(o => o.classList.remove("active"));
        option.classList.add("active");
        selectedArray.length = 0;
        selectedArray.push(option.dataset.value);
      } else {
        // Pour sÃ©lection multiple
        option.classList.toggle("active");
        const value = option.dataset.value;
        if (selectedArray.includes(value)) {
          selectedArray = selectedArray.filter(x => x !== value);
        } else {
          selectedArray.push(value);
        }
      }
    };
  });
  
  return { options, selectedArray };
}

// Initialiser toutes les options
const tailleVetements = setupOptions("taille-vetements", selectedTaille, true);
selectedTaille = tailleVetements.selectedArray;

const pointures = setupOptions("pointures", selectedPointure, true);
selectedPointure = pointures.selectedArray;

const couleurs = setupOptions("couleurs", selectedCouleurs);
selectedCouleurs = couleurs.selectedArray;

const alcoolOption = setupOptions("alcool-option", [selectedAlcool], true);
// Surveiller les changements pour l'alcool
document.querySelectorAll('#alcool-option .option').forEach(option => {
  option.onclick = function() {
    document.querySelectorAll('#alcool-option .option').forEach(o => o.classList.remove("active"));
    this.classList.add("active");
    selectedAlcool = this.dataset.value;
    
    // Afficher/masquer les sections alcool
    if (selectedAlcool === "oui") {
      champagneSection.classList.remove("hidden");
      spiritueuxSection.classList.remove("hidden");
    } else {
      champagneSection.classList.add("hidden");
      spiritueuxSection.classList.add("hidden");
      // RÃ©initialiser les sÃ©lections d'alcool
      selectedChampagne = [];
      selectedSpiritueux = [];
      document.querySelectorAll('#champagne .option, #spiritueux .option').forEach(o => {
        o.classList.remove("active");
      });
    }
  };
});

const jus = setupOptions("jus", selectedJus);
selectedJus = jus.selectedArray;

const champagne = setupOptions("champagne", selectedChampagne);
selectedChampagne = champagne.selectedArray;

const spiritueux = setupOptions("spiritueux", selectedSpiritueux);
selectedSpiritueux = spiritueux.selectedArray;

const boissonsChaudes = setupOptions("boissons-chaudes", selectedBoissonsChaudes);
selectedBoissonsChaudes = boissonsChaudes.selectedArray;

const allergies = setupOptions("allergies", [selectedAllergies], true);
// Mettre Ã  jour selectedAllergies
document.querySelectorAll('#allergies .option').forEach(option => {
  option.onclick = function() {
    document.querySelectorAll('#allergies .option').forEach(o => o.classList.remove("active"));
    this.classList.add("active");
    selectedAllergies = this.dataset.value;
  };
});

/* ===== SOUMISSION DU FORMULAIRE ===== */
form.onsubmit = e => {
  e.preventDefault();

  // RÃ©cupÃ©rer toutes les sÃ©lections actuelles
  selectedTaille = [];
  selectedPointure = [];
  selectedCouleurs = [];
  selectedJus = [];
  selectedChampagne = [];
  selectedSpiritueux = [];
  selectedBoissonsChaudes = [];
  
  document.querySelectorAll('#taille-vetements .option.active').forEach(o => {
    selectedTaille.push(o.dataset.value);
  });
  
  document.querySelectorAll('#pointures .option.active').forEach(o => {
    selectedPointure.push(o.dataset.value);
  });
  
  document.querySelectorAll('#couleurs .option.active').forEach(o => {
    selectedCouleurs.push(o.dataset.value);
  });
  
  document.querySelectorAll('#jus .option.active').forEach(o => {
    selectedJus.push(o.dataset.value);
  });
  
  document.querySelectorAll('#champagne .option.active').forEach(o => {
    selectedChampagne.push(o.dataset.value);
  });
  
  document.querySelectorAll('#spiritueux .option.active').forEach(o => {
    selectedSpiritueux.push(o.dataset.value);
  });
  
  document.querySelectorAll('#boissons-chaudes .option.active').forEach(o => {
    selectedBoissonsChaudes.push(o.dataset.value);
  });

  const data = {
    nom: nom.value,
    prenom: prenom.value,
    email: email.value,
    indicatif: indicatif.value,
    telephone: telephone.value,
    telephone_complet: indicatif.value + " " + telephone.value,
    taille: selectedTaille.join(", ") || "â€”",
    pointure: selectedPointure.join(", ") || "â€”",
    couleurs: selectedCouleurs.join(", ") || "â€”",
    alcool: selectedAlcool || "â€”",
    jus: selectedJus.join(", ") || "â€”",
    champagne: selectedChampagne.join(", ") || "â€”",
    spiritueux: selectedSpiritueux.join(", ") || "â€”",
    boissons_chaudes: selectedBoissonsChaudes.join(", ") || "â€”",
    allergies_fruits_de_mer: selectedAllergies || "â€”",
    evenement: "Finale Nanawax XV",
    date: "28-30 mars 2026",
    lieu: "Assinie"
  };

  // Envoyer l'email
  emailjs.send("service_xoza1k6", "template_jtmxw1q", data);

  // Afficher le rÃ©sumÃ©
  resume.innerHTML = `
    <p><b>Nom :</b> ${data.nom} ${data.prenom}</p>
    <p><b>Email :</b> ${data.email}</p>
    <p><b>TÃ©lÃ©phone :</b> ${data.telephone_complet}</p>
    <p><b>Taille :</b> ${data.taille}</p>
    <p><b>Pointure :</b> ${data.pointure}</p>
    <p><b>Couleurs prÃ©fÃ©rÃ©es :</b> ${data.couleurs}</p>
    <p><b>Consommation d'alcool :</b> ${data.alcool}</p>
    <p><b>Jus prÃ©fÃ©rÃ©s :</b> ${data.jus}</p>
    ${data.alcool === "oui" ? `<p><b>Champagne :</b> ${data.champagne}</p>` : ''}
    ${data.alcool === "oui" ? `<p><b>Spiritueux :</b> ${data.spiritueux}</p>` : ''}
    <p><b>Boissons chaudes :</b> ${data.boissons_chaudes}</p>
    <p><b>Allergies fruits de mer :</b> ${data.allergies_fruits_de_mer}</p>
  `;
  
  overlay.classList.add("show");
};

function closeConfirm() {
  overlay.classList.remove("show");
  form.reset();
  
  // RÃ©initialiser toutes les sÃ©lections
  selectedTaille = [];
  selectedPointure = [];
  selectedCouleurs = [];
  selectedAlcool = "";
  selectedJus = [];
  selectedChampagne = [];
  selectedSpiritueux = [];
  selectedBoissonsChaudes = [];
  selectedAllergies = "";
  
  // DÃ©sactiver toutes les options
  document.querySelectorAll('.option').forEach(o => {
    o.classList.remove("active");
  });
  
  // Masquer les sections alcool
  champagneSection.classList.add("hidden");
  spiritueuxSection.classList.add("hidden");
}

/* ===== ANIMATIONS GSAP ===== */
gsap.from(".hero", { opacity: 0, y: -50, duration: 1 });
gsap.from(".glass", { opacity: 0, y: 80, duration: 1, delay: .3 });
</script>

</body>
</html>